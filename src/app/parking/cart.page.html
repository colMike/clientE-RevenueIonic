<ion-header>
    <ion-toolbar>
        <ion-buttons mode="md" slot="start">
            <ion-back-button icon="chevron-back-outline" text=""></ion-back-button>
        </ion-buttons>
        <ion-title>Parking</ion-title>
    </ion-toolbar>
    <div class="shop_name">
        <h2 class="text-center">Apply for Parking</h2>
    </div>
</ion-header>


<ion-content class="bg_color" fullscreen>
    <ion-list lines="none">
        <div class="item_list animate__animated animate__fadeInUp">
            <form [formGroup]="formGroup">

                <ion-toolbar>
                    <ion-title>Parking Details</ion-title>
                    <ion-progress-bar value=".6"></ion-progress-bar>
                </ion-toolbar>

                <ion-item>
                    <ion-label>Parking Zone</ion-label>
                    <ion-select
                            (ionChange)="getAllParkingCharges()"
                            cancel-text="Cancel"
                            formControlName="parkingZone"
                            ok-text="Submit">
                        <ion-select-option *ngFor="let item of itemsList"
                                           value="{{item.zoneId}}">{{item.zoneName | titlecase}}</ion-select-option>
                    </ion-select>
                </ion-item>

                <ion-item>
                    <ion-label>Parking Type</ion-label>
                    <ion-select
                            cancel-text="Cancel"
                            ok-text="Submit"
                            formControlName="parkingType">
                        <ion-select-option *ngFor="let type of parkingCharges"
                                           value="{{type.service_code}}">{{type.service_name | titlecase}}</ion-select-option>
                    </ion-select>
                </ion-item>


                <ion-item>
                    <ion-label>Vehicle Type</ion-label>
                    <ion-select cancel-text="Cancel" ok-text="Submit"
                                formControlName="vehicleType">
                        <ion-select-option *ngFor="let type of parkingCharges"
                                           value="{{type.car_type_id}}">{{type.car_type_name | titlecase}}</ion-select-option>
                    </ion-select>
                </ion-item>
                <div class="form animate__animated animate__fadeInUp">
                    <ion-item lines="none">
                        <div class="item_inner d-flex">
                            <div class="icon_box ion-text-start"><img src="assets/images/ic_instruction.png"></div>
                            <div class="input_box">
                                <ion-input formControlName="regNumber" mode="md" placeholder="Enter Vehicle Reg number.eg KAC 2020D"
                                           type="name"></ion-input>
                            </div>
                        </div>
                    </ion-item>
                </div>
            </form>
        </div>

        <div class="text-center mb-2">
            <button (click)="getParkingCharge()" class="btn btn-secondary btn-sm"  size="small">Get Cost</button>
        </div>


        <div class="payment_info animate__animated animate__fadeInUp">
            <h1>{{'payment_info' | translate}}</h1>
            <ion-item class="animate__animated animate__fadeInUp">
                <div class="item_inner">
                    <h3 class="d-flex">Parking Fee<span class="end">Kes {{charge}}.00</span></h3>
                </div>
            </ion-item>
            <ion-item class="animate__animated animate__fadeInUp">
                <div class="item_inner">
                    <h3 class="d-flex">{{'service_fee' | translate}} <span class="end">Kes 0.00</span></h3>
                </div>
            </ion-item>
            <ion-item class="animate__animated animate__fadeInUp">
                <div class="item_inner">
                    <h2 class="d-flex">{{'amount_to_pay' | translate}} <span class="end">Kes {{charge+0}}.00</span></h2>
                </div>
            </ion-item>
        </div>
    </ion-list>
</ion-content>

<ion-footer class="ion-no-border animate__animated animate__fadeInUp">
    <ion-button (click)="payment()" class="btn" expand="full" size="large">{{'pay' | translate}} Kes {{charge}}.00</ion-button>
</ion-footer>
